/*!
 * Queue
 *
 * Asynchronous job chain
 *
 * @version v1.0dev
 * @author Markably
 * @link http://www.markably.com
 * @copyright (c) Markably
 */
;(function(b){function a(c){this._instant="undefined"===typeof c||c||false;this._jobs=[];this._pending=0}a.prototype.add=function(d){this._jobs.push(d);if(this._instant){this._pending+=1;if(1===this._pending){var c=(function(e){return function(){e._pending-=1;if(0<e._pending){e._jobs.shift()(c)}}}(this));this._jobs.shift()(c)}}return this};a.prototype.flush=function(c){if(this._instant){c&&this.add(function(d){d&&d();c&&c()});return}if(0===this._jobs.length){c&&c()}else{this._jobs.shift()((function(d){return function(){d.flush(c)}}(this)))}};a.prototype.length=function(){return this._jobs.length};b.Queue=a}(window));